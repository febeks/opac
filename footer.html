<script>
    $(document).ready(function(e){
        $("#add_search_cat").on('submit', function(e){
            e.preventDefault();
            $.ajax({
                type: 'POST',
                url: 'add_search_cat.php',
                data: new FormData(this),
                contentType: false,
                cache: false,
                processData:false,
                beforeSend: function(){
                    $('.submitBtn').attr("disabled","disabled");
                    $('#add_search_cat').css("opacity",".5");
                },
                success: function(msg){
                    $('.statusMsg').html('');
                    if(msg == 'ok'){
                        $('#add_search_cat')[0].reset();
                        $('.statusMsg').html('<span style="font-size:18px;color:#34A853">Form data submitted successfully.</span>');
                    }else{
                        $('.statusMsg').html('<span style="font-size:18px;color:#EA4335">Some problem occurred, please try again.</span>');
                    }
                    $('#add_search_cat').css("opacity","");
                    $(".submitBtn").removeAttr("disabled");
                }
            });
        });

        //file type validation
        $("#image_path").change(function() {
            var file = this.files[0];
            var imagefile = file.type;
            var match= ["image/jpeg","image/png","image/jpg"];
            if(!((imagefile==match[0]) || (imagefile==match[1]) || (imagefile==match[2]))){
                alert('Please select a valid image file (JPEG/JPG/PNG).');
                $("#image_path").val('');
                return false;
            }
        });
    });
</script>